"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define(t):"function"==typeof define?define(t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.easyUtil=t()}("undefined"!=typeof window?window:void 0,function(){function e(e,t){if("[object Date]"=={}.toString.call(e)&&"string"==typeof t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t}throw new TypeError("formatDate方法：第一参数必须为Date类型，第二参数必须为字符串类型")}function t(t,n){if("object"==(void 0===t?"undefined":_typeof(t))&&"string"==typeof n){var o=new Date;return o.setTime(t.time),e(o,n)}throw new TypeError("formatJsonDate方法：第一参数必须为json格式日期数据，第二参数必须为字符串")}function n(e,t){if("number"==typeof e){var n=e,n=(n||0).toString(),o="";if(t)for(;n.length>3;)o=","+n.slice(-3)+o,n=n.slice(0,n.length-3);else for(;n.length>3;)o=",  "+n.slice(-3)+o,n=n.slice(0,n.length-3);return n&&(o=n+o),o}throw new TypeError("splitNumByThree方法：第一参数必须为数字类型")}function o(e){var t={type:"week",isLog:!1};t=$.extend(!0,{},t,e),t.isLog&&$.log(t,"输入的参数为"),todayDate=new Date,date=todayDate.getDate(),month=todayDate.getMonth()+1,year=todayDate.getYear();var n="";switch("Netscape"==navigator.appName&&(n=n+(1900+year)+"年"+month+"月"+date+"日 "),-1!=navigator.appVersion.indexOf("MSIE")&&(n=n+year+"年"+month+"月"+date+"日 "),t.type){case"week":switch(todayDate.getDay()){case 0:n+="  星期日";break;case 1:n+="  星期一";break;case 2:n+="  星期二";break;case 3:n+="  星期三";break;case 4:n+="  星期四";break;case 5:n+="  星期五";break;case 6:n+="  星期六"}}return n}function r(e){var t=[].slice.call(arguments,1);return function(){var n=t.concat([].slice.call(arguments));return e.apply(null,n)}}function a(e,t){var n=[].slice.call(arguments,2);return function(){var o=n.concat([].slice.call(arguments));return e.apply(t,o)}}function i(e,t){var n=!1,o=!1;document.addEventListener("mouseover",function(r){e.contains(r.target)&&(n=!0,o=!1),t.contains(r.target)&&(o=!0,n=!1)}),e.addEventListener("scroll",function(){n&&(t.scrollTop=e.scrollTop)}),t.addEventListener("scroll",function(){o&&(e.scrollTop=t.scrollTop)})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html";if("string"!=typeof e||"string"!=typeof t)throw new TypeError("all params must be string!");var n=document.querySelector(e),o=n.offsetTop;document.addEventListener("scroll",function(){var e=o-document.querySelector(t).scrollTop;n.style.top=(e<=10?10:e)+"px"})}function c(e){return!/select|update|delete|exec|count|truncate|or|'|"|=|;|>|<|%/i.test(e)&&encodeURIComponent(e)}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=n,a=e.className,i=[],l=a.split(" ");l=l.concat(r);for(var c=0;c<l.length;c++)l.indexOf(l[c])===c&&i.push(l[c]);e.className=i.join(" ")}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var r=n,a=e.className,i=a.split(" "),l=0;l<r.length;l++)for(var c=0;c<i.length;c++)if(i[c]===r[l]){i.splice(c,1);break}e.className=i.join(" ")}function p(e,t){var n=e.className,o=n.split(" ");if(o.some(function(e,n,o){return e===t})){for(var r=0;r<o.length;r++)if(o[r]===t){o.splice(r,1);break}}else o.push(t);e.className=o.join(" ")}var u={no_pic:0,imageType:/^image\//,previewImg:function(e,t){u.no_pic=0;var n=document.getElementById(t),o=document.createDocumentFragment();if(window.FileReader){var r=new FileReader,a=document.getElementById(e).files,i=a.length;u.loopHandleImg(r,a,0,i,n,o)}else n.innerHTML="浏览器暂不支持预览!"},loopHandleImg:function(e,t,n,o,r,a){if(n==o)return void u.toResult(r,a);var i=t[n];u.validate(i)?(e.onload=function(i){var l=document.createElement("img");l.src=i.target.result,a.appendChild(l),n++,u.loopHandleImg(e,t,n,o,r,a)},e.readAsDataURL(i)):(u.no_pic++,n++,u.loopHandleImg(e,t,n,o,r,a))},toResult:function(e,t){var n=document.getElementById("no_pic");null!=n&&e.removeChild(n),e.appendChild(t);var o=u.no_pic;if(o){var r=document.createElement("div");r.style.color="red",r.id="no_pic",r.innerHTML="本次上传有"+o+"个文件非图片!",e.appendChild(r)}},validate:function(e){return u.imageType.test(e.type)&&(e.name.indexOf("jpg")||e.name.indexOf("jpeg")||e.name.indexOf("png"))}};return{formatDate:e,formatJsonDate:t,splitNumByThree:n,getDateWeek:o,currying:r,bindCurry:a,scrollTogather:i,previewImg:u.previewImg,scrollUntilTop:l,switchAndAntiSql:c,addClass:s,removeClass:f,toggleClass:p}});